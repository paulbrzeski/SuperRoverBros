function init(){container=document.createElement("div"),document.body.appendChild(container),stats=new Stats,container.appendChild(stats.dom),clock=new THREE.Clock,camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),camera.position.x=-75,camera.position.z=100,scene=new THREE.Scene;var e=new THREE.AmbientLight(4473924);scene.add(e);var n=new THREE.DirectionalLight(16772829);n.position.set(0,0,1).normalize(),scene.add(n);var i=function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;console.log(Math.round(n,2)+"% downloaded")}},a=function(e){};THREE.Loader.Handlers.add(/\.dds$/i,new THREE.DDSLoader);var o=new THREE.MTLLoader;o.setPath("assets/"),o.load("bike.mtl",function(e){e.preload();var n=new THREE.OBJLoader;n.setMaterials(e),n.setPath("assets/"),n.load("bike.obj",function(e){e.position.y=-50,e.rotation.y=Math.PI/2,bike=e,scene.add(bike)},i,a)});var r=(new THREE.TextureLoader).load("assets/road.jpg");r.wrapS=r.wrapT=THREE.RepeatWrapping,r.repeat.set(1,20),r.anisotropy=16;var t=new THREE.MeshLambertMaterial({map:r,side:THREE.DoubleSide});road=new THREE.Mesh(new THREE.PlaneGeometry(300,6e3,4,4),t),road.position.set(0,-50,-400),road.rotation.x=Math.PI/2,scene.add(road),renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),controls=new THREE.OrbitControls(camera,renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){requestAnimationFrame(animate),render()}function render(){var e=clock.getDelta();bike&&bike.position&&(camera.lookAt(bike.position),rotateSpokes(e)),road&&road.material&&(road.material.map.offset.y-=.05),controls.update(),renderer.render(scene,camera)}function rotateSpokes(e){bike.children.forEach(function(n,i){n.name.indexOf("Cone")>=0&&(cone_index=parseInt(n.name.replace("Cone","")),rear_spokes.indexOf(cone_index)>=0&&(n.position.x+=12*Math.sin(e),n.position.y+=12*Math.sin(e)))})}var container,stats,controls,clock,bike,road;console.log(stats);var camera,scene,renderer,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;init(),animate();var rear_spokes=[80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140];
